{% extends 'base.html.twig' %}

{% block title %}Connexion - EduSmart{% endblock %}

{% block body %}
<div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px;">
    <div style="background: white; width: 100%; max-width: 500px; border-radius: 30px; padding: 50px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); position: relative; overflow: hidden;">
        
        <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 40px;">
            <div style="width: 45px; height: 45px; background: #3B49A2; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 800; font-size: 1.2rem;">E</div>
            <span style="font-weight: 800; font-size: 1.5rem; color: #1E293B; letter-spacing: -0.5px;">EduSmart</span>
        </div>

        <div style="text-align: center; margin-bottom: 35px;">
            <h2 style="font-size: 1.8rem; font-weight: 800; color: #1E293B; margin-bottom: 8px;">Bienvenue!</h2>
            <p style="color: #64748B;">Connectez-vous à votre compte pour continuer.</p>
        </div>

        {% if error %}
            <div style="background: #FFF1F2; color: #E11D48; padding: 12px; border-radius: 12px; margin-bottom: 20px; font-size: 0.9rem; text-align: center; border: 1px solid #FECACA;">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}

        <form method="POST">
            <div style="margin-bottom: 20px;">
                <label style="display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; color: #1E293B;">Email</label>
                <input type="email" name="_username" value="{{ last_username }}" placeholder="exemple@email.com" required autofocus 
                       style="width: 100%; padding: 14px 18px; border: 1px solid #E2E8F0; border-radius: 12px; background: #F8FAFC; outline: none; transition: 0.3s;">
            </div>

            <div style="margin-bottom: 30px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                    <label style="font-size: 0.9rem; font-weight: 600; color: #1E293B;">Mot de passe</label>
                    <a href="#" style="font-size: 0.8rem; color: #3B49A2; font-weight: 600; text-decoration: none;">Oublié ?</a>
                </div>
                <div style="position: relative;">
                    <input type="password" name="_password" placeholder="••••••••" required 
                           style="width: 100%; padding: 14px 18px; border: 1px solid #E2E8F0; border-radius: 12px; background: #F8FAFC; outline: none; transition: 0.3s;">
                    <button type="button" style="position: absolute; right: 15px; top: 14px; border: none; background: none; color: #64748B; cursor: pointer;"><i class="far fa-eye"></i></button>
                </div>
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <button type="submit" style="width: 100%; padding: 16px; font-weight: 700; background: #3B49A2; border-radius: 12px; border: none; color: white; cursor: pointer; font-size: 1rem; margin-bottom: 25px; box-shadow: 0 4px 6px -1px rgba(59, 73, 162, 0.2);">
                Se connecter
            </button>
        </form>

        <div style="text-align: center;">
            <p style="color: #64748B; font-size: 0.9rem;">Pas encore de compte ? <a href="{{ path('app_register') }}" style="color: #3B49A2; font-weight: 700; text-decoration: none;">Créer un compte</a></p>
        </div>

        <div style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: #EEF2FF; border-radius: 50%; z-index: -1;"></div>
    </div>
</div>
{% endblock %}