{% extends 'base.html.twig' %}

{% block title %}Mot de passe oublié - EduSmart{% endblock %}

{% block body %}
<div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px;">
    <div style="background: white; width: 100%; max-width: 500px; border-radius: 30px; padding: 50px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); position: relative; overflow: hidden;">
        
        <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 40px;">
            <div style="width: 45px; height: 45px; background: #3B49A2; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 800; font-size: 1.2rem;">E</div>
            <span style="font-weight: 800; font-size: 1.5rem; color: #1E293B; letter-spacing: -0.5px;">EduSmart</span>
        </div>

        <div style="text-align: center; margin-bottom: 35px;">
            <h2 style="font-size: 1.8rem; font-weight: 800; color: #1E293B; margin-bottom: 8px;">Mot de passe oublié ?</h2>
            <p style="color: #64748B;">Entrez votre email pour recevoir un lien de réinitialisation.</p>
        </div>

        {% for message in app.flashes('error') %}
            <div style="background: #FFF1F2; color: #E11D48; padding: 12px; border-radius: 12px; margin-bottom: 20px; font-size: 0.9rem; text-align: center; border: 1px solid #FECACA;">
                {{ message }}
            </div>
        {% endfor %}

        {% for message in app.flashes('success') %}
            <div style="background: #F0FDF4; color: #166534; padding: 12px; border-radius: 12px; margin-bottom: 20px; font-size: 0.9rem; text-align: center; border: 1px solid #BBFAA0;">
                ✓ {{ message }}
            </div>
        {% endfor %}

        {{ form_start(form, {'attr': {'novalidate': true}}) }}

            <div style="margin-bottom: 30px;">
                <label style="display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; color: #1E293B;">Adresse Email</label>
                {{ form_widget(form.email, {
                    'attr': {
                        'placeholder': 'exemple@email.com',
                        'style': 'width: 100%; padding: 14px 18px; border: 1px solid #E2E8F0; border-radius: 12px; background: #F8FAFC; outline: none; transition: 0.3s;'
                    }
                }) }}
                {{ form_errors(form.email, { 'attr': { 'style': 'color: #E11D48; font-size: 0.75rem; display: block; margin-top: 4px;' } }) }}
            </div>

            <button type="submit" style="width: 100%; padding: 16px; font-weight: 700; background: #3B49A2; border-radius: 12px; border: none; color: white; cursor: pointer; font-size: 1rem; margin-bottom: 25px; box-shadow: 0 4px 6px -1px rgba(59, 73, 162, 0.2);">
                Envoyer le lien de réinitialisation
            </button>

        {{ form_end(form) }}

        <div style="text-align: center;">
            <p style="color: #64748B; font-size: 0.9rem;">Vous vous souvenez de votre mot de passe ? <a href="{{ path('app_login') }}" style="color: #3B49A2; font-weight: 700; text-decoration: none;">Se connecter</a></p>
        </div>

        <div style="position: absolute; top: -50px; right: -50px; width: 150px; height: 150px; background: #EEF2FF; border-radius: 50%; z-index: -1;"></div>
    </div>
</div>
{% endblock %}
